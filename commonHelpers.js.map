{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\n\nexport const fetchPhotos = searchedQuery => {\n  const urlParams = new URLSearchParams({\n    key: '45531869-402fff4ce98a39e1a3b7e2442',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}/?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n    <img\n      class=\"gallery-img\"\n      src=\"${imgInfo.webFormatURL}\"\n      data-source=\"${imgInfo.largeImageURL}\"\n      alt=\"${imgInfo.tags}\"\n    />\n  </a>\n  <div class=\"wrapper\">\n    <ul class=\"img-content-wrapper\">\n      <li class=\"text-info\">\n        Likes<span class=\"number\">${imgInfo.likes}</span>\n      </li>\n      <li class=\"text-info\">\n        Views<span class=\"number\">${imgInfo.views}</span>\n      </li>\n      <li class=\"text-info\">\n        Comments<span class=\"number\">${imgInfo.comments}</span>\n      </li>\n      <li class=\"text-info\">\n        Downloads<span class=\"number\">${imgInfo.downloads}</span>\n      </li>\n    </ul>\n  </div>\n</li>;\n    `;\n};\n","// import iziToast from 'izitoast';\n// import SimpleLightbox from 'simplelightbox';\n// import { fetchPhotos } from './js/pixabay-api';\n// import { createGalleryCardTemplate } from './js/render-function';\n\n// const searchFormEl = document.querySelector('.js-search-form');\n// const galleryEl = document.querySelector('.js-gallery');\n// const loader = document.querySelector('.loader');\n\n// function showLoader() {\n//   loader.classList.remove('is-hidden');\n// }\n// function hideLoader() {\n//   loader.classList.add('is-hidden');\n// }\n\n// showLoader();\n// setTimeout(hideLoader, 2000);\n\n// const onSearchFormSubmit = event => {\n//   event.preventDefault();\n\n//   const searchedValue = searchFormEl.elements.user_query.value;\n\n//   if (searchedValue === '') {\n//     iziToast.warning({\n//       title: 'Caution',\n//       message: 'Input field must not be empty',\n//       position: 'topLeft',\n//     });\n//     return;\n//   }\n// };\n\n// fetchPhotos(searchedValue)\n//   .then(data => {\n//     if (data.results.length === 0) {\n//       iziToast.error({\n//         message:\n//           'Sorry, there are no images matching your search query. Please try again!',\n//         position: 'topRight',\n//       });\n\n//       galleryEl.innerHTML = '';\n\n//       return;\n//     }\n\n//     const galleryCardsTemplate = data.results\n//       .map(imgDetails => createGalleryCardTemplate(imgDetails))\n//       .join('');\n\n//     galleryEl.innerHTML = galleryCardsTemplate;\n\n//     const light = new SimpleLightbox('.js-gallery a', {\n//       overlay: true,\n//       captionsData: 'alt',\n//       overlayOpacity: 0.8,\n//       captionDelay: 250,\n//       focus: true,\n//     });\n//     light.refresh();\n//     searchFormEl.reset();\n//   })\n//   .catch(err => {\n//     console.log(err);\n//   });\n\n// searchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nimport iziToast from 'izitoast';\nimport { fetchPhotos } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\nshowLoader();\nsetTimeout(hideLoader, 2000);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const searchedValue = searchFormEl.elements.user_query.value;\n\n  if (searchedValue === '') {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Input field must not be empty',\n      position: 'topLeft',\n    });\n    return;\n  }\n\n  fetchPhotos(searchedValue)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'bottomRight',\n        });\n        galleryEl.innerHTML = '';\n\n        return;\n      }\n      const galleryCardsTemplate = data.hits\n        .map(imgDetails => createGalleryCardTemplate(imgDetails))\n        .join('');\n      galleryEl.innerHTML = galleryCardsTemplate;\n\n      const lightBox = new SimpleLightbox('.js-gallery a', {\n        overlay: true,\n        captionsData: 'alt',\n        overlayOpacity: 0.8,\n        captionDelay: 250,\n        focus: true,\n      });\n      lightBox.refresh();\n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\nsearchFormEl.addEventListener('submit', onSearch);\n"],"names":["BASE_URL","fetchPhotos","searchedQuery","urlParams","response","createGalleryCardTemplate","imgInfo","searchFormEl","galleryEl","loader","showLoader","hideLoader","onSearch","event","searchedValue","iziToast","data","galleryCardsTemplate","imgDetails","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAW,0BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECdaC,EAA4BC,GAChC;AAAA;AAAA,kCAEyBA,EAAQ,aAAa;AAAA;AAAA;AAAA,aAG1CA,EAAQ,YAAY;AAAA,qBACZA,EAAQ,aAAa;AAAA,aAC7BA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMWA,EAAQ,KAAK;AAAA;AAAA;AAAA,oCAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,uCAGVA,EAAQ,QAAQ;AAAA;AAAA;AAAA,wCAGfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MCiDnDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,WAAW,CACrC,CACA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,WAAW,CAClC,CAEAC,IACA,WAAWC,EAAY,GAAI,EAE3B,SAASC,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAgBP,EAAa,SAAS,WAAW,MAEvD,GAAIO,IAAkB,GAAI,CACxBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,gCACT,SAAU,SAChB,CAAK,EACD,MACD,CAEDd,EAAYa,CAAa,EACtB,KAAKE,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,aACpB,CAAS,EACDP,EAAU,UAAY,GAEtB,MACD,CACD,MAAMS,EAAuBD,EAAK,KAC/B,IAAIE,GAAcb,EAA0Ba,CAAU,CAAC,EACvD,KAAK,EAAE,EACVV,EAAU,UAAYS,EAEL,IAAIE,EAAe,gBAAiB,CACnD,QAAS,GACT,aAAc,MACd,eAAgB,GAChB,aAAc,IACd,MAAO,EACf,CAAO,EACQ,QAAO,EAChBZ,EAAa,MAAK,CACxB,CAAK,EACA,MAAMa,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CACAb,EAAa,iBAAiB,SAAUK,CAAQ"}